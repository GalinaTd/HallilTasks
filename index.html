<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Lesson9</title> 
</head>
<body>
    <h1>Lesson 9. Objects, getters and setters, property descriptors</h1>
    <div id="textlesson"></div>

    <script>
        'use strict';

        let keys = [

            //[key, value, enumerable, writable, configurable],
            ['value', 42, true, false, false],
            ['value2', true, false, false, false],
            ['value3', 'Hello', true, true, true]

        ];

        let obj1 = {
            value: 42,
            value2: true
        };

        let obj2 = {
            value: 42,
            value2: true
        };      
       

//функция из массива массивов делает объект
function createObj (arr) {
    let obj = {};
    arr.forEach(function (el) {       
              
        Object.defineProperty(obj, el[0], {           
            value: el[1],
            enumerable: el[2], 
            writable: el[3], 
            configurable: el[4]
        })
    });
  return obj;
};

// функция сравнивающая 2 объекта
function compareObj(objCf1, objCf2) {       
     return String(Object.keys(objCf1)) === String(Object.keys(objCf2)) && 
            String(Object.values(objCf1)) === String(Object.values(objCf2));
};

//2 вариант сравнение объектов с исп метода entries
function compareObjShort1(objCf1, objCf2) {
    let obj1Str = String(Object.entries(objCf1)); //1 объект в строку
    let obj2Str = String(Object.entries(objCf2)); //2 объект в строку
        return obj1Str === obj2Str;    
  
};

//2 вариант сравнение объектов с исп JSON
function compareObjShort2(objCf1, objCf2) {
    return JSON.stringify(objCf1) === JSON.stringify(objCf2);
};


console.log('1. Функция из массива возвращает объект');
console.log(keys);
console.log(createObj (keys));
console.log (Object.getOwnPropertyDescriptor(createObj(keys),'value'));
console.log (Object.getOwnPropertyDescriptor(createObj(keys),'value2'));
console.log (Object.getOwnPropertyDescriptor(createObj(keys),'value3'));

console.log('2. Сравнение 2-х объектов');
console.log(obj1);
console.log(obj2);
console.log('с исп Object.keys, Object.values -'+ compareObj(obj1,obj2));
console.log('с исп метода entries - '+ compareObjShort1(obj1,obj2));
console.log('с исп JSON - ' + compareObjShort2(obj1,obj2));

                
</script>    
    
</body>
</html>