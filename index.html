<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Lesson18</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</head>

<style type="text/css">
</style>

<body>

    <button class="fb">FB live</button>
    <button class="vk">VK like</button>

    <button class="reset">Reset Counters</button>


    <script>
        'use strict';
        //1 задание счетчик суммы
        let counterSum = 0;

        function calcSum(num) {
            return counterSum = counterSum + num;
        };

        console.log(calcSum(3));
        console.log(calcSum(5));
        console.log(calcSum(20));

        // 2 задание функция счетчик     
 
        function makeCounter() {
            let currentCount = 0; // счетчик значений
            let count = 0; // счетчик кликов

            function counter(initialVal, step) {
                if (count === 0) {
                    currentCount = initialVal;

                } else {
                    currentCount = currentCount + step;
                }
                count++;
                return currentCount;
            }
            counter.reset = function () { //добавляем метод сброса счетчика к функции counter
                currentCount = 0;
                count = 0;
            }

            return counter;
        }


        const fbCounter = makeCounter();
        const vkCounter = makeCounter();

        const fbButton = document.querySelector('.fb')
            .addEventListener('click', function () {
                console.log(fbCounter(10, 5), 'facebook counter');
            });

        const vkButton = document.querySelector('.vk')
            .addEventListener('click', function () {
                console.log(vkCounter(1, 1), 'vk counter');
            });

        const resetButton = document.querySelector('.reset')
            .addEventListener('click', function () {
                console.log(fbCounter.reset(), 'reset facebook counter');
                console.log(vkCounter.reset(), 'reset vk counter');

            });

        // 3 задание числовой палиндром
        function getPalindrome(num) {

            let numReverse = Number(String(num).split("").reverse().join(""));
            let sum = num + numReverse;
            let sumReverse = Number(String(sum).split("").reverse().join(""));

            if (sum === sumReverse) {
                return `Ура паллиндром ${sum} и ${sumReverse}`;
            } else {
                console.log('Не паллиндром', sum, sumReverse);
                return getPalindrome(sum);
            }

        };

        console.log(getPalindrome(185));



    </script>

</body>