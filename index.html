<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Lesson18</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</head>

<style type="text/css">
</style>

<body>

    <button class="fb">FB live</button>
    <button class="vk">VK like</button>

    <button class="reset">Reset Counters</button>


    <script>
        'use strict';
        //1 задание счетчик суммы

        function calcSum() {
            let counterSum = 0;
            return function (num) {
                counterSum += num;
                return counterSum;
            }
        };

        const counterMy = calcSum();

        console.log(counterMy(3));
        console.log(counterMy(5));
        console.log(counterMy(20));


        // 2 задание функция счетчик     

        function makeCounter(initialVal, step) {
            let currentCount = initialVal;
            function counter() {

                return currentCount += step;
            }
            counter.reset = function (val = initialVal) { //сброс счетчика, по умолчанию сброс до initialVal, иначе val
                currentCount = val;
            }

            return counter;
        }


        const fbCounter = makeCounter(10, 5);
        const vkCounter = makeCounter(0, 1);

        const fbButton = document.querySelector('.fb')
            .addEventListener('click', function () {
                console.log(fbCounter(), 'facebook counter');
            });

        const vkButton = document.querySelector('.vk')
            .addEventListener('click', function () {
                console.log(vkCounter(), 'vk counter');
            });

        const resetButton = document.querySelector('.reset')
            .addEventListener('click', function () {
                console.log(fbCounter.reset(0), 'reset facebook counter');
                console.log(vkCounter.reset(), 'reset vk counter');

            });

        // 3 задание числовой палиндром
        function getPalindrome(num) {

            const numReverse = Number(String(num).split("").reverse().join(""));

            if (num === numReverse) {
                return `Ура паллиндром ${num} и ${numReverse}`;
            } else {
                const sum = num + numReverse;
                console.log(`суммируем..., ${num} + ${numReverse} = ${sum}`);
                return getPalindrome(sum);
                
            }
        };

       
        console.log(getPalindrome(96));



    </script>

</body>