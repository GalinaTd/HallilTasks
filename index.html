<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Lesson6</title> 
</head>
<body>
    <h1>Lesson 6. Work with functions</h1>
    <div id="textlesson"></div>

    <script>
        'use strict';

        const d = new Date();
        const curYear = d.getFullYear();

        let arrStudents = [
           {
             name: 'Alex Petrov',
             gender: 'male',
             yearBirth: 2000

           },

           {
             name: 'Helen Renova',
             gender: 'female',
             yearBirth: 1995

          },

          {
             name: 'Peter Kucenko',
             gender: 'male',
             yearBirth: 1990

          },

          {
             name: 'Dasha Perova',
             gender: 'female',
             yearBirth: 1998

          },

          {
             name: 'Alex Balan',
             gender: 'male',
             yearBirth: 1996

          }
        ];
        
                     
       function getAverageAge (arrStudents) {
         let average = 0;
         
         for (let i = 0; i <= arrStudents.length - 1; i++) {
            average += curYear - arrStudents[i].yearBirth;
         }
         return console.log('Средний возраст студентов - ' + (average / arrStudents.length).toFixed(0));  
       };

      
       function checkMostGender(arrStudents) {
          let countMale = 0;
          let countFemale = 0;

          for (let i = 0; i <= arrStudents.length - 1; i++) {

           if (arrStudents[i].gender === 'male') {
               countMale = countMale + 1;               
            } else {
               countFemale = countFemale + 1;
            }           
          }

          if (countMale>countFemale) {
            return console.log('муж. -' + countMale + ' жен. -' + countFemale + ' : мужчин больше');
          } else {
            return console.log('муж. -' + countMale + ' жен. -' + countFemale + ' : женщин больше');
          }
    
       };

       let arr = [1,2,3,4,5,6];
      
      function clone (arr) {
        return arr.slice();
      };

       function isEven (x) {
         if (x % 2 === 0) {
            return true;
         } else {
            return false;
         }
       };
       
       function filter (arr, isEven) {
         const arrFilter = new Array; 
         let j = 0;
         for (let i = 0; i <= arr.length-1; i++) {
            if ( isEven(arr[i]) ) {               
               arrFilter[j++] = arr[i];                           
            }              
         }
         return console.log(arrFilter); 
       };

       console.log('1. Работа с массивом объектов');
       getAverageAge (arrStudents);
       checkMostGender(arrStudents);
       let brr = clone (arr);
       brr[0] = 55;
       console.log('2. клонирование массива и изм значения элемента');
       console.log (brr);
       console.log (arr);
       
       console.log('3. функция filter - только четные');
       console.log (arr);
       filter(arr, isEven);
                
</script>    
    
</body>
</html>