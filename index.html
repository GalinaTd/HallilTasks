<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8" />
  <title>Lesson15</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</head>

<style type="text/css">
  div {
    padding-bottom: 20px;
  }


  button {
    margin: 20px auto;
    width: 40px;
    height: 20px;
    font-weight: bold;
    text-align: center;
    float: left;
    margin-left: 10px;

  }

  .box {
    width: 120px;
    height: 120px;
    float: left;
    margin-left: 30px;
    margin-bottom: 30px;
    background-color: Lavender;    
    display:table;
  
  }
  .count{
    margin-top: 20px;  
    margin-left:55px;       
  }

  .square {
    width: 120px;
    height: 120px;
    float: left;
    margin-left: 30px;
    margin-bottom: 30px;

  }

  .clear-fix:after {
    content: ".";
    clear: both;
    display: block;
    height: 0;
    visibility: hidden;
  }

  .blueColor {
    background-color: blue;
  }

  .greenColor {
    background-color: green;
  }

  .yellowColor {
    background-color: yellow;
  }

  .greyColor {
    background-color: grey;
  }
</style>

<body>
  <div class="container">
    <h4>1. Квадраты с кнопками +\- на jQUERY</h4>
    <div class="box">
      <div class="count">0</div>      
      <button type="button" data-action="minus">-</button>
      <button type="button" data-action="plus">+</button>
    </div>
    <div class="box">
      <div class="count">0</div>  
      <button type="button" data-action="minus">-</button>
      <button type="button" data-action="plus">+</button>
    </div>
    <div class="box">
      <div class="count">0</div>  
      <button type="button" data-action="minus">-</button>
      <button type="button" data-action="plus">+</button>
    </div>
    <div class="box">
      <div class="count">0</div>  
      <button type="button" data-action="minus">-</button>
      <button type="button" data-action="plus">+</button>
    </div>
    <div class="box">
      <div class="count">0</div>  
      <button type="button" data-action="minus">-</button>
      <button type="button" data-action="plus">+</button>
    </div>
  </div>
  <div class="clear-fix"></div>
  <div class="container">
    <h4>2. Квадраты с изменением цвета по клику, меняют цвет и передвигаются в конец на jQUERY</h4>
    <button type="button" data-action="changeColor" class="square greyColor"></button>
    <button type="button" data-action="changeColor" class="square greyColor"></button>
    <button type="button" data-action="changeColor" class="square greyColor"></button>
    <button type="button" data-action="changeColor" class="square greyColor"></button>
    <button type="button" data-action="changeColor" class="square greyColor"></button>
  </div>


  <script>
    'use strict';

    $(document).ready(function () {
      let count;
      $('.container').on('click', 'button', function () {
        count = +$(this).prevAll('.count').text();
        if ($(this).data('action') === 'plus') {
          count++;
          $(this).prevAll('.count').text(count);
        }
        if ($(this).data('action') === 'minus') {
          count--;
          $(this).prevAll('.count').text(count);
        }
           
        // 2 task
        if ($(this).data('action') === 'changeColor') {
          let bdColor = (($(this).attr('class').substring(7))); //достаю название класса с цветом

          switch (bdColor) {
            case 'greyColor':
              $(this).removeClass(bdColor);
              $(this).addClass('blueColor');
              break;
            case 'blueColor':
              $(this).removeClass(bdColor);
              $(this).addClass('greenColor');
              break;
            case 'greenColor':
              $(this).removeClass(bdColor);
              $(this).addClass('yellowColor');
              break;
            case 'yellowColor':
              $(this).removeClass(bdColor);
              $(this).addClass('greyColor');
          }
         
          $(this).parent().append($(this));

        }
     
    })
  });

  </script>

</body>