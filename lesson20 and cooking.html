<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Lesson19</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
</head>

<style type="text/css">
</style>
<body>
    <script>
         'use strict';
         const menu = {
             burger: [
                 {name: 'burger',
                 time: 2000
                 },
               {
                   name: 'free',
                   time: 1000
                   
               }  
             ],
             pizza: [
                 {
                     name: 'pizza',
                     time: 4500
                 }
             ],
            hotdog: [
                {
                    name: 'hotdog',
                    time: 1000
                }
            ] 
         }

         const order = function(menu) {
             console.log ('Start cooking order....' );

             const cookFood = function (menuItem) {
                return new Promise(function (resolve, reject) {
                    setTimeout(function ()  {
                        if (1) { //успешно
                            resolve(menuItem.name)
                        } else {
                            reject(menuItem.name)
                        }
                    }, menuItem.time);

                })
             };
             const results = menu.map(function(food) {
                 return cookFood(food);
             })

             return Promise.allSettled(results);
         }

         order(menu.burger).then(function(res){
             console.log(res);
         })
         

         fetch('https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits')
  .then(response => response.json())
  .then(commits => alert(commits[0].author.login));

    </script>


</body>